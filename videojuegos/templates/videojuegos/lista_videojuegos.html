{% extends 'videojuegos/base.html' %} {# Extiende la plantilla base #}

{% block content %} {# El contenido de esta plantilla se insertará en el 'block content' de base.html #}
<h1 class="mb-4">Todos los Videojuegos</h1>

<div class="card">
    <div class="card-header">
        <i class="fas fa-list-ul"></i> Lista de Videojuegos
    </div>
    <div class="card-body">
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>ID Videojuego</th>
                    <th>Título</th>
                    <th>Desarrollador</th>
                    <th>Género</th>
                    <th>Plataforma</th>
                    <th>Fecha Lanzamiento</th>
                    <th>ID Proveedor</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for juego in videojuegos %}
                <tr>
                    <td>{{ juego.ID_Videojuego }}</td>
                    <td>{{ juego.Titulo }}</td>
                    <td>{{ juego.Desarrollador }}</td>
                    <td>{{ juego.Genero }}</td>
                    <td>{{ juego.Plataforma }}</td>
                    <td>{{ juego.Fecha_Lanzamiento|date:"Y-m-d" }}</td>
                    <td>{{ juego.ID_Proveedor }}</td>
                    <td>
                        {# Nuevo Botón de Ver Detalles #}
                        <a href="{% url 'detalle_videojuego' juego.pk %}" class="btn btn-info btn-sm me-1" title="Ver Detalles">
                            <i class="fas fa-info-circle"></i>
                        </a>
                        <a href="{% url 'editar_videojuego' juego.pk %}" class="btn btn-warning btn-sm me-1" title="Editar">
                            <i class="fas fa-edit"></i>
                        </a>
                        <form action="{% url 'eliminar_videojuego' juego.pk %}" method="post" class="d-inline">
                            {% csrf_token %}
                            <button type="submit" class="btn btn-danger btn-sm" title="Eliminar" onclick="return confirm('¿Estás seguro de que quieres eliminar este videojuego?');">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8">No hay videojuegos registrados.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}